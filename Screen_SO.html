<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>Ambica Darbar Batti</title>
    <meta name="description" content="Ambica Darbar Batti">
    <meta name="Ambica Darbar Batti" content="True">
    <meta name="MobileOptimized" content="320">
   <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
    <meta name="msapplication-TileColor" content="#222222">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- SEO: If mobile URL is different from desktop URL, add a canonical link to the desktop page -->
    <!--
    <link rel="canonical" href="http://www.example.com/" >
    -->

    <!-- For iOS web apps. Delete if not needed. https://github.com/h5bp/mobile-boilerplate/issues/94 -->
    <!--
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="">
    -->

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,100' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
    <!-- Icons -->


    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/materialize.min.css">
    <link rel="stylesheet" href="css/swipebox.min.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="bootstrap/css/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="css/demo.css" />
	  <link rel="stylesheet" type="text/css" href="css/component1.css" />
    <script src="js/vendor/modernizr-2.7.1.min.js"></script>
    <script src="js/polyfills.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  </head>
  
  <body>
        
    <!-- Main Container -->
    <div id="main" class="main">

      <!-- Toolbar -->
      <div id="toolbar" class="primary-color z-depth-1">
        <div class="open-left" id="open-left" data-activates="slide-out-left">
          <i class="fa fa-bars" style="font-size:20px;margin-top:22px;"></i>
        </div>
        <h1 class="title">Ambica CRM</h1>
        <div class="open-right" id="open-right" data-activates="slide-out">
          &nbsp;
        </div>
      </div>
      <!-- End of Toolbar -->

      <!-- Page Contents -->
      <div class="page">
        <!-- Your contents goes here! -->
<br>
<div class="container">

<h4 style="color:#000;text-align: center">Durbar : Sales vs Targets </h4>
<div id="piechart" style="width: 100%;"></div>

<h4 style="color:#000;text-align: center">Sented : Sales vs Targets </h4>
<div id="piechart1" style="width: 100%;"></div>
<input type="date" name="fdate" id="fdate" class="form-control" onchange="drawChart();"/>

<div class="component">
				<!-- Start Nav Structure -->
				<button class="cn-button" id="cn-button">+</button>
				<div class="cn-wrapper" id="cn-wrapper">
				    <ul>
				<li><a href="Screen_SO.html" class="waves-effect"><i class="fa fa-home"></i></a></li>
        <li><a href="#" class="waves-effect"><i class="fa fa-edit"></i></a></li>
        <li><a href="View_Orders_SO.html" class="waves-effect"><i class="fa fa-eye"></i></a></li>
				      <li><a href="Profile_SO.html"><i class="fa fa-user-circle-o"></i></a></li>
				      <li><a href="#"><i class="fa fa-bar-chart-o"></i></a></li>
				     </ul>
				</div>
				<div id="cn-overlay" class="cn-overlay"></div>
				<!-- End Nav Structure -->
			</div>

    
</div>
      </div> 
      <!-- End of Page Contents -->

      <!-- Sidebars -->
      <!-- Left Sidebar -->
      <ul id="slide-out-left" class="side-nav collapsible">
        
        <li class="sidenav-avatar" style="background-color: #BCBADE">
          <div class="opacity-overlay-gradient"></div>
          <div class="bottom">
            <img src="img/user.png" alt="" class="avatar">
            <!-- Dropdown Trigger -->
            <span class="dropdown-button waves-effect waves-light" data-activates="dropdown1">
            <span id="uname"></span></span>
          </div>
        </li>
        <div id="soleft"></div>
      </ul>

    </div>
    <!-- End of Main Container -->
    
    <!-- Scripts -->
    <script src="js/vendor/jquery-2.1.0.min.js"></script>
    <script src="bootstrap/js/bootstrap.js"></script>
    <script src="js/helper.js"></script>
    <script src="js/vendor/HeadsUp.js"></script>
    <script src="js/vendor/chart.min.js"></script>
    <script src="js/vendor/jquery.mixitup.min.js"></script>
    <script src="js/vendor/jquery.swipebox.min.js"></script>
    <script src="js/vendor/masonry.min.js"></script>
    <script src="js/vendor/swiper.min.js"></script>
    <script src="js/vendor/materialize.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/custome.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      var now = new Date();
    var month = (now.getMonth() + 1);               
    var day = now.getDate();
    if (month < 10) 
        month = "0" + month;
    if (day < 10) 
        day = "0" + day;
    var today = now.getFullYear() + '-' + month + '-' + day;
    $('#fdate').val(today);
    
      function drawChart() {
       var fdate = $("#fdate").val(); 
        var options = {
          chartArea:{left:10,top:20,width:"100%",height:"60%"},
          legend: {'position': 'bottom'},
          backgroundColor: "transparent"
        };

$.ajax({
            url: server+"darbarSoReports.php?SalesmenCode="+localStorage.getItem("Emp_Code")+"&fdate="+fdate,
            dataType: "json",
            type: "GET",
            success: function (data) {
                var arrValues = [['','']];        // DEFINE AN ARRAY.
                var iCnt = 0;
                $.each(data, function () {
                    // POPULATE ARRAY WITH THE EXTRACTED DATA.

                    arrValues.push([data[iCnt].Title,data[iCnt].Darbar]);
                    iCnt += 1;
                });

                // CREATE A DataTable AND ADD THE ARRAY (WITH DATA) IN IT.
                var figures = google.visualization.arrayToDataTable(arrValues)

                // THE TYPE OF CHART (PieChart IN THIS EXAMPLE).
                var chart = new google.visualization.PieChart(document.getElementById('piechart'));

                chart.draw(figures, options);      // DRAW GRAPH WITH THE DATA AND OPTIONS.
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert('Got an Error');
            }
        });


$.ajax({
            url: server+"sentedSoReports.php?SalesmenCode="+localStorage.getItem("Emp_Code")+"&fdate="+fdate,
            dataType: "json",
            type: "GET",
            success: function (data) {
                var arrValues = [['','']];        // DEFINE AN ARRAY.
                var iCnt = 0;
                console.log(data);
                $.each(data, function () {
                    // POPULATE ARRAY WITH THE EXTRACTED DATA.

                    arrValues.push([data[iCnt].Title,data[iCnt].Darbar]);
                    iCnt += 1;
                });

                // CREATE A DataTable AND ADD THE ARRAY (WITH DATA) IN IT.
                var figures = google.visualization.arrayToDataTable(arrValues)

                // THE TYPE OF CHART (PieChart IN THIS EXAMPLE).
                var chart1 = new google.visualization.PieChart(document.getElementById('piechart1'));

                chart1.draw(figures, options);      // DRAW GRAPH WITH THE DATA AND OPTIONS.
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert('Got an Error');
            }
        });



      }
    </script>
    <script>
        $(function(){
if(localStorage.getItem("Role") != null){
  
}else{
    location.href="index.html";
}
var button = document.getElementById('cn-button'),
    wrapper = document.getElementById('cn-wrapper'),
    overlay = document.getElementById('cn-overlay');

  //open and close menu when the button is clicked
  var open = false;
  button.addEventListener('click', handler, false);
  button.addEventListener('focus', handler, false);
  wrapper.addEventListener('click', cnhandle, false);

  function cnhandle(e){
    e.stopPropagation();
  }

  function handler(e){
    if (!e) var e = window.event;
    e.stopPropagation();//so that it doesn't trigger click event on document

      if(!open){
        openNav();
      }
    else{
        closeNav();
      }
  }
  function openNav(){
    open = true;
      button.innerHTML = "-";
      classie.add(overlay, 'on-overlay');
      classie.add(wrapper, 'opened-nav');
  }
  function closeNav(){
    open = false;
    button.innerHTML = "+";
    classie.remove(overlay, 'on-overlay');
    classie.remove(wrapper, 'opened-nav');
  }
  document.addEventListener('click', closeNav);
   
        });
    </script>
  </body>
</html>
